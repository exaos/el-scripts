# mode: yaml; coding: utf-8

# My repositories information, by Exaos Lee
####################################################################

####################################################################
# Common commands for VCS tools

# 约定：
# 1. 如果 <repo>:type 未赋值，默认使用 git
# 2. 如果 <repo>:path 为空，则是值为 <repo> 的子目录
#    如果 <repo> 只属于某个 group, 则该目录在此 group 定义的路径下
#    如果 <repo> 属于多个组，则在第一个组定义的目录下
#    否则在全局的 <workspace> 下
# 3. 关键字说明
#    a. desc -- 描述， description
#    b. path -- 路径
#    c. cmds -- 命令列表， commands
#    d. type -- 类型
#       1). group -- 群组
#       2). git|hg|bzr|svn|git_svn -- VCS 工具类型

global:
  default:   # default = git
  workspace: # default = ~/Workspace
  git:
    cmds:
      - pull origin
      - gc --aggressive --prune=now
  git_svn:
    cmds:
      - svn fetch
      - svn rebase -l
      - gc --aggressive
  hg:
    cmds:
      - pull
      - merge
  bzr:
    cmds:
      - pull
  svn:
    cmds:
      - update

# 每个仓库的定义格式为： ----
#  <key>:
#    path: <仓库的工作路径>
#    type: git | git_svn | hg | bzr | svn
#    groups: [, ]
#    cmds:
#      - <cmd 1>
#      - <cmd 2>
#    upstreams:
#      lpath:  <local reference repository>
#      <up-repos>:
#        url: <upstream URL>
#        branches: [upstream branches list]

# 保留名称不可用于 repos 或 group 的名称
# a. global -- 全局
# b. orphan -- 独立的 repo, 不属于任何组
# c. default
# d. workspace
# e. VCS 工具名称

####################################################################
## Exaos personal repositories

# The group
exaos:
  type:  group
  repos:
    - daily
    - myorg
    - myconfig
    - mynotes

daily:
  path: ~/Workspace/exaos/daily
  desc: 心蛛的日常工作内容
  upstreams:
    lpath: ~/Repos/daily.git
    bitbucket:
      url: ssh://git@bitbucket.org/exaos/el-daily.git
  cmds:
    - fetch bitbucket
    - push  bitbucket

myorg:
  path: ~/Library/MyOrg
  desc: My GTD life based org-mode
  upstreams:
    lpath: ~/Repos/myorg.git
    bitbucket:
      url: ssh://git@bitbucket.org/exaos/el-org.git
  cmds:
    - fetch bitbucket
    - push  bitbucket

myconfig:
  path: ~/Library/MyConfig
  desc: My various configurations
  upstreams:
    lpath: ~/Repos/myconfig.git
    bitbucket:
      url: ssh://git@bitbucket.org/exaos/el-cfg.git
  cmds:
    - fetch bitbucket
    - push  bitbucket

mynotes:
  path: ~/Library/MyNotes
  desc: Personal notes
  upstreams:
    lpath: ~/Repos/mynotes.git

# Exaos-misc
exaos-misc:
  type:  group
  repos:
    - goagent
    - mysite-src
    - mysite
    - o-blog
    - site-o-blog

mysite:
  path: ~/Workspace/exaos/site
  desc: 个人站点

mysite-src:
  path: ~/Workspace/exaos/site/org-src
  desc: 用于生成个人站点的源文件

goagent:
  path: ~/Workspace/exaos/goagent
  desc: GoAgent, codes and config
  upstreams:
    #github:
    origin:
      url: git://github.com/phus/goagent.git
      branches: master

o-blog:
  path: ~/Workspace/exaos/o-blog
  desc: Standalone blog system based on org-mode, with Chinese templates
  upstreams:
    bitbucket:
      url: ssh://git@bitbucket.org/exaos/o-blog.git
      branches: [ renard, zh-example ]
    github:
      url: git@github.com:exaos/o-blog.git
      branches: [ zh-example, renard ]
    renard:
      url: git://github.com/renard/o-blog.git
      branches: [ master, ]

site-o-blog:
  path: ~/Workspace/exaos/site-o-blog
  desc: Demo Chinese blog based on o-blog

####################################################################
## DAQ repositories
daq:
  type: group
  repos:
    - midas
    - mxml
    - lumidas
    - mdaq
    - bots
    - daq-el

####################################################################
## Languages and tools

# Lua
lang-Lua:
  type: group
  repos:
    - LuaD
    - LuaDist
    - luajit-2.0
    - alien
    - rocks

# Python
lang-Python:
  type: group
  repos:
    - cpython
    - pypy
    - pyd
    - elmer
    - cpython-fullhistory

# Julia
lang-Julia:
  type: group
  repos:
    - julia
    - julialang.github.com

# Tools: Git
Git:
  type: group
  repos:
    - git
    - gitignore

